(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-b5c1"],{dCRr:function(t,e,s){"use strict";s.r(e);var a=s("t3Un"),o=function(){return Object(a.a)({url:"/user/security/get_security_info",method:"post"})},i=function(t){return Object(a.a)({url:"/sms/send_auth/index",method:"post",data:t})},n=function(t){return Object(a.a)({url:"/user/password/update",method:"post",data:t})},r=function(t){return Object(a.a)({url:"/user/password/looking_appsecrect",method:"post",data:t})},l=function(t){return Object(a.a)({url:"/user/security/trade_switch",method:"post",data:t})},c=null,d={name:"setting",data:function(){return{switchs:{sale:""},areaCode:"",phone:"",userKey:"",key:"",appsecrect:"",appId:"",sending:!1,msgColdDown:!0,msgColdCount:60,msgCildTimer:null,msg:{template:"3",category:"1"},pwd:{newPwd:"",pwdComfirm:"",code:""},showDialog:!1,dialogForm:{authCode:""},loading:!1}},computed:{language:function(){return this.$store.getters.language},sendText:function(){return this.msgColdDown?this.$t("setting.send"):this.msgColdCount+"s"},dialogRules:function(){return{authCode:[{required:!0,message:this.$t("setting.message"),trigger:"blur"}]}}},created:function(){c=this,this.loadData(),this.key="password"},methods:{loadData:function(){var t=this;o().then(function(e){e.data.areaCode&&(t.areaCode=e.data.areaCode),t.switchs.sale=e.data.status-0,t.phone=e.data.phone,t.userKey=e.data.appsecrect,t.appId=e.data.appid})},toggleSecurityInfo:function(){var t=this;"password"==this.key?(this.showDialog=!0,this.$nextTick(function(){t.$refs.dialogForm.resetFields()})):(this.appsecrect=0,this.key="password")},confirmAuthCode:function(){var t=this;this.$refs.dialogForm.validate(function(e){if(!e)return!1;var s={code:t.dialogForm.authCode};r(s).then(function(e){e.success?(t.key="key",t.appsecrect=1,t.showDialog=!1):t.$message.error({message:e.msg,duration:2e3,onClose:function(){t.showDialog=!1}})})})},onCopy:function(t){this.$message({message:c.$t("setting.copy_success"),type:"success"})},onError:function(t){this.$message.error(c.$t("setting.copy_error"))},sendMsg:function(){var t=this;this.msgColdDown&&(this.sending||(this.sending=!0,i(this.msg).then(function(e){t.sending=!1,t.msgCold()}).catch(function(e){t.sending=!1})))},msgCold:function(){var t=this;this.msgColdDown=!1,this.msgCildTimer=setInterval(function(){t.msgColdCount--,t.msgColdCount<=0&&(clearInterval(t.msgCildTimer),t.msgColdCount=60,t.msgColdDown=!0)},1e3)},changePassword:function(){var t=this;this.sending||n(this.pwd).then(function(e){1==e.success?(t.$message({message:c.$t("setting.success"),type:"success"}),t.pwd="",t.msgColdCount=""):(t.$message.error(c.$t("setting.error")),loadData())})},tradeSwitch:function(){var t=this;if(this.loading)return!1;this.loading=!0,l({status:1*this.switchs.sale}).then(function(e){t.loadData()}),this.loading=!1}}},p=(s("xLM/"),s("KHd+")),u=Object(p.a)(d,function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"config-container"},[s("el-row",{staticClass:"box",attrs:{gutter:20}},[s("el-col",{staticStyle:{height:"55%"},attrs:{span:12}},[s("el-card",{staticClass:"box-card",staticStyle:{height:"100%"}},[s("div",{staticClass:"title"},[s("span",[t._v(t._s(t.$t("setting.login_pwd")))])]),t._v(" "),s("div",{staticClass:"config-item"},[s("el-form",{staticStyle:{"margin-top":"20px"},attrs:{width:"80px"}},[s("el-form-item",[s("el-input",{attrs:{placeholder:t.$t("setting.enter_pwd")},model:{value:t.pwd.newPwd,callback:function(e){t.$set(t.pwd,"newPwd",e)},expression:"pwd.newPwd"}})],1),t._v(" "),s("el-form-item",[s("el-input",{attrs:{placeholder:t.$t("setting.confirm_pwd")},model:{value:t.pwd.pwdComfirm,callback:function(e){t.$set(t.pwd,"pwdComfirm",e)},expression:"pwd.pwdComfirm"}})],1),t._v(" "),s("el-form-item",[s("span",[t._v(t._s(t.$t("setting.phone_number")))]),t._v(": "),s("span",[t._v(t._s(t.areaCode)+"-"+t._s(t.phone))])]),t._v(" "),s("el-form-item",[s("el-input",{staticClass:"input-with-select",attrs:{placeholder:t.$t("setting.code")},model:{value:t.pwd.code,callback:function(e){t.$set(t.pwd,"code",e)},expression:"pwd.code"}},[s("el-button",{staticStyle:{"background-color":"#fff"},attrs:{slot:"append"},on:{click:t.sendMsg},slot:"append"},[t._v(t._s(t.sendText))])],1)],1),t._v(" "),s("el-form-item",[s("el-button",{staticStyle:{"margin-bottom":"7.5%"},attrs:{type:"primary"},on:{click:t.changePassword}},[t._v(t._s(t.$t("setting.confirm")))])],1)],1)],1)])],1),t._v(" "),s("el-col",{staticStyle:{height:"55%",display:"flex","flex-direction":"column","justify-content":"space-between"},attrs:{span:12}},[s("el-card",{staticClass:"box-card",staticStyle:{height:"60%"}},[s("div",{staticClass:"title"},[s("span",[t._v(t._s(t.$t("setting.security")))]),t._v(" "),s("span",{staticClass:"toggle-info",on:{click:t.toggleSecurityInfo}},[s("svg-icon",{attrs:{"icon-class":1===t.appsecrect?"eye-open":"eye"}})],1)]),t._v(" "),s("el-row",{staticClass:"config-item",attrs:{gutter:15}},[s("el-col",{attrs:{span:6}},[s("span",{staticClass:"name"},[t._v("APPID")])]),t._v(" "),s("ElCol",{attrs:{span:14}},[s("el-input",{attrs:{type:t.key,name:"appId",disabled:!0},model:{value:t.appId,callback:function(e){t.appId=e},expression:"appId"}})],1),t._v(" "),s("ElCol",{attrs:{span:4}},[s("el-button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.appId,expression:"appId",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.onError,expression:"onError",arg:"error"}],staticClass:"config-btn",attrs:{type:"primary"}},[t._v(t._s(t.$t("setting.copy"))+"\n            ")])],1)],1),t._v(" "),s("el-row",{staticClass:"config-item",attrs:{gutter:15}},[s("el-col",{attrs:{span:6}},[s("span",{staticClass:"name"},[t._v(t._s(t.$t("setting.merchant_key")))])]),t._v(" "),s("ElCol",{attrs:{span:14}},[s("el-input",{attrs:{type:t.key,name:"appsecrect",disabled:!0},model:{value:t.userKey,callback:function(e){t.userKey=e},expression:"userKey"}})],1),t._v(" "),s("ElCol",{attrs:{span:4}},[s("el-button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.userKey,expression:"userKey",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.onError,expression:"onError",arg:"error"}],staticClass:"config-btn",attrs:{type:"primary"}},[t._v(t._s(t.$t("setting.copy"))+"\n            ")])],1)],1)],1),t._v(" "),s("el-card",{staticClass:"box-card",staticStyle:{height:"38%"}},[s("div",{staticClass:"title"},[s("span",[t._v(t._s(t.$t("setting.switch")))])]),t._v(" "),s("div",{staticClass:"config-item"},[s("el-form",{ref:"switchs",staticStyle:{"margin-top":"20px","margin-left":"20px"},attrs:{model:t.switchs,width:"80px"}},[s("el-form-item",{attrs:{label:t.$t("route.Commodity_Sale")}},["zh-CN"===t.language?s("el-switch",{staticStyle:{"margin-left":"60px"},attrs:{disabled:t.loading,"active-value":1,"inactive-value":2},on:{change:t.tradeSwitch},model:{value:t.switchs.sale,callback:function(e){t.$set(t.switchs,"sale",e)},expression:"switchs.sale"}}):t._e(),t._v(" "),"en-US"===t.language?s("el-switch",{staticStyle:{"margin-left":"12px"},attrs:{disabled:t.loading,"active-value":1,"inactive-value":2},on:{change:t.tradeSwitch},model:{value:t.switchs.sale,callback:function(e){t.$set(t.switchs,"sale",e)},expression:"switchs.sale"}}):t._e()],1)],1)],1)])],1)],1),t._v(" "),s("el-dialog",{attrs:{visible:t.showDialog,width:"30%",center:""},on:{"update:visible":function(e){t.showDialog=e}}},[s("div",{staticStyle:{"padding-bottom":"20px"}},[t._v(t._s(t.$t("setting.tip")))]),t._v(" "),s("el-form",{ref:"dialogForm",attrs:{model:t.dialogForm,rules:t.dialogRules}},[s("el-form-item",{attrs:{prop:"authCode"}},[s("el-input",{staticClass:"input-with-select",attrs:{placeholder:t.$t("setting.code")},model:{value:t.dialogForm.authCode,callback:function(e){t.$set(t.dialogForm,"authCode",e)},expression:"dialogForm.authCode"}},[s("template",{slot:"append"},[s("el-button",{staticStyle:{"background-color":"#fff",width:"70px"},on:{click:t.sendMsg}},[t._v(t._s(t.sendText))])],1)],2)],1)],1),t._v(" "),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(e){t.showDialog=!1}}},[t._v(t._s(t.$t("setting.cancel")))]),t._v(" "),s("el-button",{attrs:{type:"primary"},on:{click:t.confirmAuthCode}},[t._v(t._s(t.$t("setting.confirm")))])],1)],1)],1)},[],!1,null,"bede63b8",null);u.options.__file="index.vue";e.default=u.exports},dclv:function(t,e,s){},"xLM/":function(t,e,s){"use strict";var a=s("dclv");s.n(a).a}}]);